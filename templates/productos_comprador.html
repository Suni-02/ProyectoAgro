{% extends "index.html" %}

{% block content %}
<div class="max-w-6xl mx-auto mt-10">
  <h1 class="text-3xl font-bold mb-6 text-gray-800">Explorar Productos</h1>

  <!-- Filtro de categorías -->
  <form method="POST" class="mb-6 flex gap-4">
    <select name="id_categoria" class="border px-4 py-2 rounded">
      <option value="">Todas las categorías</option>
      {% for categoria in categorias %}
        <option value="{{ categoria[0] }}">{{ categoria[1] }}</option>
      {% endfor %}
    </select>
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Filtrar</button>
  </form>

  <!-- Productos -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for producto in productos %}
      <div class="bg-white shadow rounded p-4">
        <h2 class="text-xl font-semibold">{{ producto[0] }}</h2>
        <p class="text-gray-700 mt-2"><strong>Precio:</strong> ${{ producto[1] }}</p>
        <p class="text-gray-700"><strong>Vendedor:</strong> {{ producto[2] }}</p>
        <p class="text-gray-700"><strong>Categoría:</strong> {{ producto[3] }}</p>
        <a href="{{ url_for('perfil_publico', id_usuario=producto[4])}}"
           class="mt-2 inline-block bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700">
           Ver vendedor
        </a>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
